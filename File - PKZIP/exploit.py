import zipfile
import os
import itertools
import time
 
 
 
def extract(zfile):
     for combination in itertools.product(range(10), repeat=5):
          passw = ''.join(map(str, combination))
          try:
              zfile.extractall(pwd=bytes(passw,'utf-8'))
              return passw
          except:
              pass
 
def main():
     start_time=time.time()    
     passw =''
     zfile = zipfile.ZipFile('ch5.zip')
     ans = extract(zfile)
     if ans:
          print ('Password = '+ans+'\n')
          print("--- %s seconds ---" % (time.time() - start_time))
          exit(0)
 
if __name__ == "__main__":
     main()
